import{n as nt,C as Ee,y as x,z as Oe,s as rt,e as M,a as A,c as D,b as w,f as S,g as R,p as I,A as dt,O as Vt,i as H,h as P,P as Nt,Q as j,R as N,S as Yt,T as wt,k as Zt,U as Gt,o as Pe,V as Ut,W as qt,t as mt,d as _t,j as pt,X as it,Y,r as lt,Z as Se,_ as at,$ as ft,l as Bt,a0 as At}from"../chunks/scheduler.yy9yGr4f.js";import{n as Me,l as De,f as Le,h as Ve,a as W,t as F,S as gt,i as vt,g as ot,c as ut,j as xt,k as $t,o as ht,b as te,d as ee,m as ne,e as ie}from"../chunks/index.DEYxkE9U.js";import{c as Ne,p as we,d as st,f as Rt,s as Wt,g as Ue}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.CKvHW8cz.js";import{w as qe}from"../chunks/index.CIvxIsgV.js";function Be(n,t,e,l){if(!t)return nt;const a=n.getBoundingClientRect();if(t.left===a.left&&t.right===a.right&&t.top===a.top&&t.bottom===a.bottom)return nt;const{delay:u=0,duration:s=300,easing:r=Ee,start:o=Me()+u,end:v=o+s,tick:h=nt,css:f}=e(n,{from:t,to:a},l);let d=!0,m=!1,c;function b(){f&&(c=Le(n,0,1,s,u,r,f)),u||(m=!0)}function _(){f&&Ve(n,c),d=!1}return De(y=>{if(!m&&y>=o&&(m=!0),m&&y>=v&&(h(1,0),_()),!d)return!1;if(m){const g=y-o,C=0+1*r(g/s);h(C,1-C)}return!0}),b(),h(0,1),_}function Ae(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:l}=t,a=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=l,Re(n,a)}}function Re(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const l=getComputedStyle(n),a=l.transform==="none"?"":l.transform;n.style.transform=`${a} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function G(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function We(n,t){F(n,1,1,()=>{t.delete(n.key)})}function He(n,t){n.f(),We(n,t)}function je(n,t,e,l,a,u,s,r,o,v,h,f){let d=n.length,m=u.length,c=d;const b={};for(;c--;)b[n[c].key]=c;const _=[],y=new Map,g=new Map,C=[];for(c=m;c--;){const E=f(a,u,c),O=e(E);let V=s.get(O);V?C.push(()=>V.p(E,t)):(V=v(O,E),V.c()),y.set(O,_[c]=V),O in b&&g.set(O,Math.abs(c-b[O]))}const p=new Set,T=new Set;function k(E){W(E,1),E.m(r,h),s.set(E.key,E),h=E.first,m--}for(;d&&m;){const E=_[m-1],O=n[d-1],V=E.key,U=O.key;E===O?(h=E.first,d--,m--):y.has(U)?!s.has(V)||p.has(V)?k(E):T.has(U)?d--:g.get(V)>g.get(U)?(T.add(V),k(E)):(p.add(U),d--):(o(O,s),d--)}for(;d--;){const E=n[d];y.has(E.key)||o(E,s)}for(;m;)k(_[m-1]);return x(C),_}function Fe(n,{from:t,to:e},l={}){const a=getComputedStyle(n),u=a.transform==="none"?"":a.transform,[s,r]=a.transformOrigin.split(" ").map(parseFloat),o=t.left+t.width*s/e.width-(e.left+s),v=t.top+t.height*r/e.height-(e.top+r),{delay:h=0,duration:f=m=>Math.sqrt(m)*120,easing:d=Ne}=l;return{delay:h,duration:Oe(f)?f(Math.sqrt(o*o+v*v)):f,easing:d,css:(m,c)=>{const b=c*o,_=c*v,y=m+c*t.width/e.width,g=m+c*t.height/e.height;return`transform: ${u} translate(${b}px, ${_}px) scale(${y}, ${g});`}}}function Ht(n,t,e){const l=n.slice();return l[66]=t[e].id,l[67]=t[e].val,l[69]=e,l}function jt(n,t,e){const l=n.slice();return l[70]=t[e],l}function Ft(n){let t,e=n[70]+"",l,a;return{c(){t=M("option"),l=mt(e),this.h()},l(u){t=D(u,"OPTION",{});var s=w(t);l=_t(s,e),s.forEach(S),this.h()},h(){t.__value=a=n[70],j(t,t.__value)},m(u,s){H(u,t,s),P(t,l)},p(u,s){s[0]&1&&e!==(e=u[70]+"")&&pt(l,e),s[0]&1&&a!==(a=u[70])&&(t.__value=a,j(t,t.__value))},d(u){u&&S(t)}}}function zt(n){let t,e=[],l=new Map,a,u,s,r,o=G(n[16]);const v=h=>h[66];for(let h=0;h<o.length;h+=1){let f=Ht(n,o,h),d=v(f);l.set(d,e[h]=Jt(d,f))}return{c(){t=M("div");for(let h=0;h<e.length;h+=1)e[h].c();this.h()},l(h){t=D(h,"DIV",{class:!0});var f=w(t);for(let d=0;d<e.length;d+=1)e[d].l(f);f.forEach(S),this.h()},h(){I(t,"class",a="input-chip-list "+n[19])},m(h,f){H(h,t,f);for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(t,null);r=!0},p(h,f){if(n=h,f[0]&16892064){o=G(n[16]),ot();for(let d=0;d<e.length;d+=1)e[d].r();e=je(e,f,v,1,n,o,l,t,He,Jt,null,Ht);for(let d=0;d<e.length;d+=1)e[d].a();ut()}(!r||f[0]&524288&&a!==(a="input-chip-list "+n[19]))&&I(t,"class",a)},i(h){if(!r){for(let f=0;f<o.length;f+=1)W(e[f]);h&&dt(()=>{r&&(s&&s.end(1),u=xt(t,st,{transition:n[8],params:n[9],enabled:n[7]}),u.start())}),r=!0}},o(h){for(let f=0;f<e.length;f+=1)F(e[f]);u&&u.invalidate(),h&&(s=$t(t,st,{transition:n[10],params:n[11],enabled:n[7]})),r=!1},d(h){h&&S(t);for(let f=0;f<e.length;f+=1)e[f].d();h&&s&&s.end()}}}function Jt(n,t){let e,l,a,u=t[67]+"",s,r,o,v="âœ•",h,f,d,m,c,b=nt,_,y,g;function C(...p){return t[53](t[69],t[67],...p)}return{key:n,first:null,c(){e=M("div"),l=M("button"),a=M("span"),s=mt(u),r=A(),o=M("span"),o.textContent=v,m=A(),this.h()},l(p){e=D(p,"DIV",{});var T=w(e);l=D(T,"BUTTON",{type:!0,class:!0});var k=w(l);a=D(k,"SPAN",{});var E=w(a);s=_t(E,u),E.forEach(S),r=R(k),o=D(k,"SPAN",{"data-svelte-h":!0}),it(o)!=="svelte-1p578dz"&&(o.textContent=v),k.forEach(S),m=R(T),T.forEach(S),this.h()},h(){I(l,"type","button"),I(l,"class",h="chip "+t[5]),this.first=e},m(p,T){H(p,e,T),P(e,l),P(l,a),P(a,s),P(l,r),P(l,o),P(e,m),_=!0,y||(g=[N(l,"click",C),N(l,"click",t[43]),N(l,"keypress",t[44]),N(l,"keydown",t[45]),N(l,"keyup",t[46])],y=!0)},p(p,T){t=p,(!_||T[0]&65536)&&u!==(u=t[67]+"")&&pt(s,u),(!_||T[0]&32&&h!==(h="chip "+t[5]))&&I(l,"class",h)},r(){c=e.getBoundingClientRect()},f(){Ae(e),b()},a(){b(),b=Be(e,c,Fe,{duration:t[3]})},i(p){_||(p&&dt(()=>{_&&(d&&d.end(1),f=xt(l,st,{transition:t[12],params:t[13],enabled:t[7]}),f.start())}),_=!0)},o(p){f&&f.invalidate(),p&&(d=$t(l,st,{transition:t[14],params:t[15],enabled:t[7]})),_=!1},d(p){p&&S(e),p&&d&&d.end(),y=!1,x(g)}}}function ze(n){let t,e,l,a,u,s,r,o,v,h,f,d,m,c,b,_,y=G(n[0]),g=[];for(let p=0;p<y.length;p+=1)g[p]=Ft(jt(n,y,p));let C=n[16].length&&zt(n);return{c(){t=M("div"),e=M("div"),l=M("select");for(let p=0;p<g.length;p+=1)g[p].c();a=A(),u=M("div"),s=M("form"),r=M("input"),f=A(),C&&C.c(),this.h()},l(p){t=D(p,"DIV",{class:!0});var T=w(t);e=D(T,"DIV",{class:!0});var k=w(e);l=D(k,"SELECT",{name:!0,"aria-label":!0,tabindex:!0});var E=w(l);for(let U=0;U<g.length;U+=1)g[U].l(E);E.forEach(S),k.forEach(S),a=R(T),u=D(T,"DIV",{class:!0});var O=w(u);s=D(O,"FORM",{});var V=w(s);r=D(V,"INPUT",{type:!0,placeholder:!0,class:!0}),V.forEach(S),f=R(O),C&&C.l(O),O.forEach(S),T.forEach(S),this.h()},h(){I(l,"name",n[2]),l.multiple=!0,l.required=n[4],I(l,"aria-label",n[6]),I(l,"tabindex","-1"),n[0]===void 0&&dt(()=>n[51].call(l)),I(e,"class","h-0 overflow-hidden"),I(r,"type","text"),I(r,"placeholder",o=n[25].placeholder??"Enter values..."),I(r,"class",v="input-chip-field "+n[18]),r.disabled=h=n[25].disabled,I(u,"class",d="input-chip-wrapper "+n[20]),I(t,"class",m="input-chip "+n[21]),Vt(t,"opacity-50",n[25].disabled)},m(p,T){H(p,t,T),P(t,e),P(e,l);for(let k=0;k<g.length;k+=1)g[k]&&g[k].m(l,null);n[50](l),Nt(l,n[0]),P(t,a),P(t,u),P(u,s),P(s,r),j(r,n[1]),P(u,f),C&&C.m(u,null),c=!0,b||(_=[N(l,"change",n[51]),N(r,"input",n[52]),N(r,"input",n[22]),N(r,"input",n[47]),N(r,"focus",n[48]),N(r,"blur",n[49]),N(s,"submit",n[23])],b=!0)},p(p,T){if(T[0]&1){y=G(p[0]);let k;for(k=0;k<y.length;k+=1){const E=jt(p,y,k);g[k]?g[k].p(E,T):(g[k]=Ft(E),g[k].c(),g[k].m(l,null))}for(;k<g.length;k+=1)g[k].d(1);g.length=y.length}(!c||T[0]&4)&&I(l,"name",p[2]),(!c||T[0]&16)&&(l.required=p[4]),(!c||T[0]&64)&&I(l,"aria-label",p[6]),T[0]&1&&Nt(l,p[0]),(!c||T[0]&33554432&&o!==(o=p[25].placeholder??"Enter values..."))&&I(r,"placeholder",o),(!c||T[0]&262144&&v!==(v="input-chip-field "+p[18]))&&I(r,"class",v),(!c||T[0]&33554432&&h!==(h=p[25].disabled))&&(r.disabled=h),T[0]&2&&r.value!==p[1]&&j(r,p[1]),p[16].length?C?(C.p(p,T),T[0]&65536&&W(C,1)):(C=zt(p),C.c(),W(C,1),C.m(u,null)):C&&(ot(),F(C,1,1,()=>{C=null}),ut()),(!c||T[0]&1048576&&d!==(d="input-chip-wrapper "+p[20]))&&I(u,"class",d),(!c||T[0]&2097152&&m!==(m="input-chip "+p[21]))&&I(t,"class",m),(!c||T[0]&35651584)&&Vt(t,"opacity-50",p[25].disabled)},i(p){c||(W(C),c=!0)},o(p){F(C),c=!1},d(p){p&&S(t),Yt(g,p),n[50](null),C&&C.d(),b=!1,x(_)}}}const Je="textarea cursor-pointer",Ke="space-y-4",Qe="flex flex-wrap gap-2",Xe="unstyled bg-transparent border-0 !ring-0 p-0 w-full";function Ye(n,t,e){let l,a,u,s,r;const o=["input","name","value","whitelist","max","minlength","maxlength","allowUpperCase","allowDuplicates","validation","duration","required","chips","invalid","padding","rounded","regionChipWrapper","regionChipList","regionInput","label","transitions","listTransitionIn","listTransitionInParams","listTransitionOut","listTransitionOutParams","chipTransitionIn","chipTransitionInParams","chipTransitionOut","chipTransitionOutParams","addChip","removeChip"];let v=wt(t,o),h;Zt(n,we,i=>e(54,h=i));const f=Gt();let{input:d=""}=t,{name:m}=t,{value:c=[]}=t,{whitelist:b=[]}=t,{max:_=-1}=t,{minlength:y=-1}=t,{maxlength:g=-1}=t,{allowUpperCase:C=!1}=t,{allowDuplicates:p=!1}=t,{validation:T=()=>!0}=t,{duration:k=150}=t,{required:E=!1}=t,{chips:O="variant-filled"}=t,{invalid:V="input-error"}=t,{padding:U="p-2"}=t,{rounded:L="rounded-container-token"}=t,{regionChipWrapper:q=""}=t,{regionChipList:B=""}=t,{regionInput:Z=""}=t,{label:K="Chips select"}=t,{transitions:$=!h}=t,{listTransitionIn:bt=Rt}=t,{listTransitionInParams:yt={duration:150,opacity:0,y:-20}}=t,{listTransitionOut:Ct=Rt}=t,{listTransitionOutParams:Tt={duration:150,opacity:0,y:-20}}=t,{chipTransitionIn:It=Wt}=t,{chipTransitionInParams:kt={duration:150,opacity:0}}=t,{chipTransitionOut:Et=Wt}=t,{chipTransitionOutParams:Ot={duration:150,opacity:0}}=t,Q=!0,J=(c==null?void 0:c.map(i=>({val:i,id:Math.random()})))||[];function Pt(){e(0,c=[])}let tt;Pe(()=>{if(!tt.form)return;const i=tt.form;return i.addEventListener("reset",Pt),()=>{i.removeEventListener("reset",Pt)}});function ae(){e(41,Q=!0)}function se(i){return T===void 0||T(i)}function re(){return _===-1||c.length<_}function oe(i){return(y===-1||i.length>=y)&&(g===-1||i.length<=g)}function ue(i){return b.length===0||b.includes(i)}function ce(i){return p||!c.includes(i)}function St(i=""){return!i&&!d?!1:(i=i!==""?i.trim():d.trim(),se(i)&&re()&&oe(i)&&ue(i)&&ce(i))}function Mt(i){i=C?i:i.toLowerCase(),c.push(i),e(0,c),J.push({val:i,id:Math.random()}),e(16,J),e(0,c)}function Dt(i){let z=c.indexOf(i);c.splice(z,1),e(0,c),J.splice(z,1),e(16,J),e(0,c)}function fe(i){if(i.preventDefault(),e(41,Q=St()),Q===!1){f("invalid",{event:i,input:d});return}Mt(d),f("add",{event:i,chipIndex:c.length-1,chipValue:d}),e(1,d="")}function Lt(i,z,X){v.disabled||(Dt(X),f("remove",{event:i,chipIndex:z,chipValue:X}))}function he(i){if(e(41,Q=St(i)),Q===!1){f("invalidManually",{input:i});return}Mt(i),f("addManually",{chipIndex:c.length-1,chipValue:i})}function de(i){v.disabled||(Dt(i),f("removeManually",{chipValue:i}))}function me(i){Y.call(this,n,i)}function _e(i){Y.call(this,n,i)}function pe(i){Y.call(this,n,i)}function ge(i){Y.call(this,n,i)}function ve(i){Y.call(this,n,i)}function be(i){Y.call(this,n,i)}function ye(i){Y.call(this,n,i)}function Ce(i){lt[i?"unshift":"push"](()=>{tt=i,e(17,tt)})}function Te(){c=Se(this),e(0,c)}function Ie(){d=this.value,e(1,d)}const ke=(i,z,X)=>Lt(X,i,z);return n.$$set=i=>{e(65,t=Ut(Ut({},t),qt(i))),e(25,v=wt(t,o)),"input"in i&&e(1,d=i.input),"name"in i&&e(2,m=i.name),"value"in i&&e(0,c=i.value),"whitelist"in i&&e(26,b=i.whitelist),"max"in i&&e(27,_=i.max),"minlength"in i&&e(28,y=i.minlength),"maxlength"in i&&e(29,g=i.maxlength),"allowUpperCase"in i&&e(30,C=i.allowUpperCase),"allowDuplicates"in i&&e(31,p=i.allowDuplicates),"validation"in i&&e(32,T=i.validation),"duration"in i&&e(3,k=i.duration),"required"in i&&e(4,E=i.required),"chips"in i&&e(5,O=i.chips),"invalid"in i&&e(33,V=i.invalid),"padding"in i&&e(34,U=i.padding),"rounded"in i&&e(35,L=i.rounded),"regionChipWrapper"in i&&e(36,q=i.regionChipWrapper),"regionChipList"in i&&e(37,B=i.regionChipList),"regionInput"in i&&e(38,Z=i.regionInput),"label"in i&&e(6,K=i.label),"transitions"in i&&e(7,$=i.transitions),"listTransitionIn"in i&&e(8,bt=i.listTransitionIn),"listTransitionInParams"in i&&e(9,yt=i.listTransitionInParams),"listTransitionOut"in i&&e(10,Ct=i.listTransitionOut),"listTransitionOutParams"in i&&e(11,Tt=i.listTransitionOutParams),"chipTransitionIn"in i&&e(12,It=i.chipTransitionIn),"chipTransitionInParams"in i&&e(13,kt=i.chipTransitionInParams),"chipTransitionOut"in i&&e(14,Et=i.chipTransitionOut),"chipTransitionOutParams"in i&&e(15,Ot=i.chipTransitionOutParams)},n.$$.update=()=>{n.$$.dirty[1]&1028&&e(42,l=Q===!1?V:""),e(21,a=`${Je} ${U} ${L} ${t.class??""} ${l}`),n.$$.dirty[1]&32&&e(20,u=`${Ke} ${q}`),n.$$.dirty[1]&64&&e(19,s=`${Qe} ${B}`),n.$$.dirty[1]&128&&e(18,r=`${Xe} ${Z}`),n.$$.dirty[0]&65537&&e(16,J=(c==null?void 0:c.map((i,z)=>{var X;return((X=J[z])==null?void 0:X.val)===i?J[z]:{id:Math.random(),val:i}}))||[])},t=qt(t),[c,d,m,k,E,O,K,$,bt,yt,Ct,Tt,It,kt,Et,Ot,J,tt,r,s,u,a,ae,fe,Lt,v,b,_,y,g,C,p,T,V,U,L,q,B,Z,he,de,Q,l,me,_e,pe,ge,ve,be,ye,Ce,Te,Ie,ke]}class Ze extends gt{constructor(t){super(),vt(this,t,Ye,ze,rt,{input:1,name:2,value:0,whitelist:26,max:27,minlength:28,maxlength:29,allowUpperCase:30,allowDuplicates:31,validation:32,duration:3,required:4,chips:5,invalid:33,padding:34,rounded:35,regionChipWrapper:36,regionChipList:37,regionInput:38,label:6,transitions:7,listTransitionIn:8,listTransitionInParams:9,listTransitionOut:10,listTransitionOutParams:11,chipTransitionIn:12,chipTransitionInParams:13,chipTransitionOut:14,chipTransitionOutParams:15,addChip:39,removeChip:40},null,[-1,-1,-1])}get addChip(){return this.$$.ctx[39]}get removeChip(){return this.$$.ctx[40]}}function Ge(n){let t;return{c(){t=mt(n[0])},l(e){t=_t(e,n[0])},m(e,l){H(e,t,l)},p(e,l){l&1&&pt(t,e[0])},d(e){e&&S(t)}}}function xe(n){let t,e,l;return{c(){t=M("input"),this.h()},l(a){t=D(a,"INPUT",{class:!0,type:!0}),this.h()},h(){I(t,"class","input"),I(t,"type","text")},m(a,u){H(a,t,u),j(t,n[0]),e||(l=[N(t,"input",n[8]),N(t,"keydown",n[6])],e=!0)},p(a,u){u&1&&t.value!==a[0]&&j(t,a[0])},d(a){a&&S(t),e=!1,x(l)}}}function $e(n){let t,e,l,a,u,s,r,o,v='<span class="material-symbols-outlined">favorite</span>',h,f,d,m,c='<span class="material-symbols-outlined">skull</span>',b,_,y,g,C,p,T;function k(L,q){return L[4]?xe:Ge}let E=k(n),O=E(n);function V(L){n[12](L)}let U={rounded:"rounded",chips:"variant-soft-secondary",name:"chips",placeholder:"Add conditions..."};return n[3]!==void 0&&(U.value=n[3]),y=new Ze({props:U}),lt.push(()=>ht(y,"value",V)),{c(){t=M("div"),e=M("header"),l=M("input"),a=A(),u=M("a"),O.c(),s=A(),r=M("div"),o=M("div"),o.innerHTML=v,h=A(),f=M("input"),d=A(),m=M("button"),m.innerHTML=c,b=A(),_=M("section"),te(y.$$.fragment),this.h()},l(L){t=D(L,"DIV",{class:!0});var q=w(t);e=D(q,"HEADER",{class:!0});var B=w(e);l=D(B,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),a=R(B),u=D(B,"A",{title:!0});var Z=w(u);O.l(Z),Z.forEach(S),s=R(B),r=D(B,"DIV",{class:!0,title:!0});var K=w(r);o=D(K,"DIV",{class:!0,"data-svelte-h":!0}),it(o)!=="svelte-y9ncw"&&(o.innerHTML=v),h=R(K),f=D(K,"INPUT",{class:!0,type:!0,placeholder:!0}),K.forEach(S),d=R(B),m=D(B,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),it(m)!=="svelte-1e6a25n"&&(m.innerHTML=c),B.forEach(S),b=R(q),_=D(q,"SECTION",{class:!0});var $=w(_);ee(y.$$.fragment,$),$.forEach(S),q.forEach(S),this.h()},h(){I(l,"class","input w-12 rounded p-1"),I(l,"title","Initiative"),I(l,"type","number"),I(l,"placeholder","9"),I(u,"title","Click to rename character"),I(o,"class","input-group-shim p-0"),I(f,"class","input-group-shim"),I(f,"type","number"),I(f,"placeholder","0"),I(r,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] w-40"),I(r,"title","Damage"),I(m,"class","btn-icon rounded variant-soft"),I(m,"title","Remove character"),I(e,"class","card-header h4 justify-between flex"),I(_,"class","p-4 rounded"),I(t,"class","card m-4 w-full max-w-3xl")},m(L,q){H(L,t,q),P(t,e),P(e,l),j(l,n[1]),P(e,a),P(e,u),O.m(u,null),P(e,s),P(e,r),P(r,o),P(r,h),P(r,f),j(f,n[2]),P(e,d),P(e,m),P(t,b),P(t,_),ne(y,_,null),C=!0,p||(T=[N(l,"input",n[7]),N(u,"click",n[9]),N(f,"input",n[10]),N(m,"click",n[11])],p=!0)},p(L,[q]){q&2&&at(l.value)!==L[1]&&j(l,L[1]),E===(E=k(L))&&O?O.p(L,q):(O.d(1),O=E(L),O&&(O.c(),O.m(u,null))),q&4&&at(f.value)!==L[2]&&j(f,L[2]);const B={};!g&&q&8&&(g=!0,B.value=L[3],ft(()=>g=!1)),y.$set(B)},i(L){C||(W(y.$$.fragment,L),C=!0)},o(L){F(y.$$.fragment,L),C=!1},d(L){L&&S(t),O.d(),ie(y),p=!1,x(T)}}}function tn(n,t,e){const l=Gt();let{name:a="Character Name"}=t,{initiative:u=0}=t,{health:s=0}=t,{conditions:r=[]}=t,o=!1;function v(_){_.code=="Enter"&&e(4,o=!1)}function h(){u=at(this.value),e(1,u)}function f(){a=this.value,e(0,a)}const d=()=>e(4,o=!0);function m(){s=at(this.value),e(2,s)}const c=()=>l("delete");function b(_){r=_,e(3,r)}return n.$$set=_=>{"name"in _&&e(0,a=_.name),"initiative"in _&&e(1,u=_.initiative),"health"in _&&e(2,s=_.health),"conditions"in _&&e(3,r=_.conditions)},[a,u,s,r,o,l,v,h,f,d,m,c,b]}class en extends gt{constructor(t){super(),vt(this,t,tn,$e,rt,{name:0,initiative:1,health:2,conditions:3})}}var ct={local:{},session:{}};function nn(n){return n==="local"?localStorage:sessionStorage}function le(n,t,e){var l,a,u,s,r,o;const v=(l=void 0)!=null?l:JSON,h=(a=void 0)!=null?a:"local",f=(u=void 0)!=null?u:!0,d=(r=(s=void 0)!=null?s:void 0)!=null?r:g=>console.error(`Error when writing value from persisted store "${n}" to ${h}`,g),m=(o=void 0)!=null?o:(g,C)=>console.error(`Error when parsing ${g?'"'+g+'"':"value"} from persisted store "${n}"`,C),c=typeof window<"u"&&typeof document<"u",b=c?nn(h):null;function _(g,C){try{b==null||b.setItem(g,v.stringify(C))}catch(p){d(p)}}function y(){const g=b==null?void 0:b.getItem(n);if(g)try{return v.parse(g)}catch(C){m(g,C)}return t}if(!ct[h][n]){const g=y(),C=qe(g,k=>{if(c&&h=="local"&&f){const E=O=>{if(O.key===n){let V;try{V=O.newValue?v.parse(O.newValue):null}catch(U){m(O.newValue,U);return}k(V)}};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)}}),{subscribe:p,set:T}=C;ct[h][n]={set(k){T(k),_(n,k)},update(k){return C.update(E=>{const O=k(E);return _(n,O),O})},subscribe:p}}return ct[h][n]}le("name1","Blank Name");const et=le("characters",[["Click to rename",0]]);function Kt(n,t,e){const l=n.slice();return l[10]=t[e],l[11]=t,l[12]=e,l}function Qt(n){let t,e,l,a;function u(v){n[5](v,n[10])}function s(v){n[6](v,n[10])}function r(){return n[7](n[10])}let o={};return n[10][0]!==void 0&&(o.name=n[10][0]),n[10][1]!==void 0&&(o.initiative=n[10][1]),t=new en({props:o}),lt.push(()=>ht(t,"name",u)),lt.push(()=>ht(t,"initiative",s)),t.$on("delete",r),{c(){te(t.$$.fragment)},l(v){ee(t.$$.fragment,v)},m(v,h){ne(t,v,h),a=!0},p(v,h){n=v;const f={};!e&&h&2&&(e=!0,f.name=n[10][0],ft(()=>e=!1)),!l&&h&2&&(l=!0,f.initiative=n[10][1],ft(()=>l=!1)),t.$set(f)},i(v){a||(W(t.$$.fragment,v),a=!0)},o(v){F(t.$$.fragment,v),a=!1},d(v){ie(t,v)}}}function Xt(n){let t,e,l=G(n[1]),a=[];for(let s=0;s<l.length;s+=1)a[s]=Qt(Kt(n,l,s));const u=s=>F(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();t=Bt()},l(s){for(let r=0;r<a.length;r+=1)a[r].l(s);t=Bt()},m(s,r){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(s,r);H(s,t,r),e=!0},p(s,r){if(r&10){l=G(s[1]);let o;for(o=0;o<l.length;o+=1){const v=Kt(s,l,o);a[o]?(a[o].p(v,r),W(a[o],1)):(a[o]=Qt(v),a[o].c(),W(a[o],1),a[o].m(t.parentNode,t))}for(ot(),o=l.length;o<a.length;o+=1)u(o);ut()}},i(s){if(!e){for(let r=0;r<l.length;r+=1)W(a[r]);e=!0}},o(s){a=a.filter(Boolean);for(let r=0;r<a.length;r+=1)F(a[r]);e=!1},d(s){s&&S(t),Yt(a,s)}}}function ln(n){let t,e=n[0],l,a,u,s='<span class="material-symbols-outlined">shuffle</span>',r,o,v="Add Character",h,f,d,m,c,b=Xt(n);return{c(){t=M("div"),b.c(),l=A(),a=M("div"),u=M("button"),u.innerHTML=s,r=A(),o=M("button"),o.textContent=v,h=A(),f=M("div"),this.h()},l(_){t=D(_,"DIV",{class:!0});var y=w(t);b.l(y),y.forEach(S),l=R(_),a=D(_,"DIV",{class:!0});var g=w(a);u=D(g,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),it(u)!=="svelte-b005uv"&&(u.innerHTML=s),r=R(g),o=D(g,"BUTTON",{class:!0,"data-svelte-h":!0}),it(o)!=="svelte-1n79vxe"&&(o.textContent=v),h=R(g),f=D(g,"DIV",{class:!0}),w(f).forEach(S),g.forEach(S),this.h()},h(){I(t,"class","flex flex-col items-center p-4"),I(u,"class","btn btn-icon variant-filled rounded"),I(u,"title","Sort by initiative"),I(o,"class","btn variant-ghost"),I(f,"class","w-4"),I(a,"class","mx-4 px-7 flex flex-row justify-between")},m(_,y){H(_,t,y),b.m(t,null),H(_,l,y),H(_,a,y),P(a,u),P(a,r),P(a,o),P(a,h),P(a,f),d=!0,m||(c=[N(u,"click",n[4]),N(o,"click",n[2])],m=!0)},p(_,[y]){y&1&&rt(e,e=_[0])?(ot(),F(b,1,1,nt),ut(),b=Xt(_),b.c(),W(b,1),b.m(t,null)):b.p(_,y)},i(_){d||(W(b),d=!0)},o(_){F(b),d=!1},d(_){_&&(S(t),S(l),S(a)),b.d(_),m=!1,x(c)}}}function an(n,t,e){let l;Zt(n,et,m=>e(1,l=m));const a=Ue();let u=!0;const s={type:"prompt",title:"Add Character",value:"",valueAttr:{type:"text",minlength:3,maxlength:100,required:!0},response:m=>At(et,l=[...l,[m,0]],l)};function r(){a.trigger(s)}function o(m){let c=[];l.forEach(b=>{b[0]!==m&&(c=[...c,b])}),At(et,l=c,l)}function v(){l.sort((m,c)=>c[1]-m[1]),e(0,u=!u)}function h(m,c){n.$$.not_equal(c[0],m)&&(c[0]=m,et.set(l))}function f(m,c){n.$$.not_equal(c[1],m)&&(c[1]=m,et.set(l))}return[u,l,r,o,v,h,f,m=>o(m[0])]}class cn extends gt{constructor(t){super(),vt(this,t,an,ln,rt,{})}}export{cn as component};
