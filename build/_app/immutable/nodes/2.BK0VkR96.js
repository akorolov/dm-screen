import{n as x,w as ke,x as Ie,s as it,e as M,a as q,c as D,b as V,f as O,g as B,p as y,y as ct,z as Nt,i as A,h as I,A as St,B as R,C as N,D as Xt,E as Z,F as Ut,k as Yt,G as Zt,o as Ee,H as Vt,I as qt,t as ft,d as ht,j as dt,J as Q,K as G,r as $,L as Oe,M as tt,l as Bt,N as ut}from"../chunks/scheduler.C17Sy8YK.js";import{n as Pe,l as Me,f as De,h as Le,S as _t,i as mt,a as H,g as lt,t as F,c as at,j as wt,k as xt,o as et,b as $t,d as te,m as ee,e as ne}from"../chunks/index.CaK1Li5g.js";import{c as Ne,e as Y,p as Se,u as Ue,d as nt,f as At,s as Ht,a as Ve,g as qe,b as J}from"../chunks/dataStore.CezGcgQM.js";function Be(n,t,e,i){if(!t)return x;const a=n.getBoundingClientRect();if(t.left===a.left&&t.right===a.right&&t.top===a.top&&t.bottom===a.bottom)return x;const{delay:r=0,duration:s=300,easing:d=ke,start:o=Pe()+r,end:v=o+s,tick:m=x,css:u}=e(n,{from:t,to:a},i);let f=!0,k=!1,_;function E(){u&&(_=De(n,0,1,s,r,d,u)),r||(k=!0)}function L(){u&&Le(n,_),f=!1}return Me(g=>{if(!k&&g>=o&&(k=!0),k&&g>=v&&(m(1,0),L()),!f)return!1;if(k){const h=g-o,p=0+1*d(h/s);m(p,1-p)}return!0}),E(),m(0,1),L}function Ae(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:i}=t,a=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=i,He(n,a)}}function He(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const i=getComputedStyle(n),a=i.transform==="none"?"":i.transform;n.style.transform=`${a} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function Re(n,{from:t,to:e},i={}){const a=getComputedStyle(n),r=a.transform==="none"?"":a.transform,[s,d]=a.transformOrigin.split(" ").map(parseFloat),o=t.left+t.width*s/e.width-(e.left+s),v=t.top+t.height*d/e.height-(e.top+d),{delay:m=0,duration:u=k=>Math.sqrt(k)*120,easing:f=Ne}=i;return{delay:m,duration:Ie(u)?u(Math.sqrt(o*o+v*v)):u,easing:f,css:(k,_)=>{const E=_*o,L=_*v,g=k+_*t.width/e.width,h=k+_*t.height/e.height;return`transform: ${r} translate(${E}px, ${L}px) scale(${g}, ${h});`}}}function Rt(n,t,e){const i=n.slice();return i[66]=t[e].id,i[67]=t[e].val,i[69]=e,i}function Wt(n,t,e){const i=n.slice();return i[70]=t[e],i}function Ft(n){let t,e=n[70]+"",i,a;return{c(){t=M("option"),i=ft(e),this.h()},l(r){t=D(r,"OPTION",{});var s=V(t);i=ht(s,e),s.forEach(O),this.h()},h(){t.__value=a=n[70],R(t,t.__value)},m(r,s){A(r,t,s),I(t,i)},p(r,s){s[0]&1&&e!==(e=r[70]+"")&&dt(i,e),s[0]&1&&a!==(a=r[70])&&(t.__value=a,R(t,t.__value))},d(r){r&&O(t)}}}function jt(n){let t,e=[],i=new Map,a,r,s,d,o=Y(n[16]);const v=m=>m[66];for(let m=0;m<o.length;m+=1){let u=Rt(n,o,m),f=v(u);i.set(f,e[m]=zt(f,u))}return{c(){t=M("div");for(let m=0;m<e.length;m+=1)e[m].c();this.h()},l(m){t=D(m,"DIV",{class:!0});var u=V(t);for(let f=0;f<e.length;f+=1)e[f].l(u);u.forEach(O),this.h()},h(){y(t,"class",a="input-chip-list "+n[19])},m(m,u){A(m,t,u);for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(t,null);d=!0},p(m,u){if(n=m,u[0]&16892064){o=Y(n[16]),lt();for(let f=0;f<e.length;f+=1)e[f].r();e=Ue(e,u,v,1,n,o,i,t,Ve,zt,null,Rt);for(let f=0;f<e.length;f+=1)e[f].a();at()}(!d||u[0]&524288&&a!==(a="input-chip-list "+n[19]))&&y(t,"class",a)},i(m){if(!d){for(let u=0;u<o.length;u+=1)H(e[u]);m&&ct(()=>{d&&(s&&s.end(1),r=wt(t,nt,{transition:n[8],params:n[9],enabled:n[7]}),r.start())}),d=!0}},o(m){for(let u=0;u<e.length;u+=1)F(e[u]);r&&r.invalidate(),m&&(s=xt(t,nt,{transition:n[10],params:n[11],enabled:n[7]})),d=!1},d(m){m&&O(t);for(let u=0;u<e.length;u+=1)e[u].d();m&&s&&s.end()}}}function zt(n,t){let e,i,a,r=t[67]+"",s,d,o,v="âœ•",m,u,f,k,_,E=x,L,g,h;function p(...c){return t[53](t[69],t[67],...c)}return{key:n,first:null,c(){e=M("div"),i=M("button"),a=M("span"),s=ft(r),d=q(),o=M("span"),o.textContent=v,k=q(),this.h()},l(c){e=D(c,"DIV",{});var T=V(e);i=D(T,"BUTTON",{type:!0,class:!0});var C=V(i);a=D(C,"SPAN",{});var b=V(a);s=ht(b,r),b.forEach(O),d=B(C),o=D(C,"SPAN",{"data-svelte-h":!0}),Q(o)!=="svelte-1p578dz"&&(o.textContent=v),C.forEach(O),k=B(T),T.forEach(O),this.h()},h(){y(i,"type","button"),y(i,"class",m="chip "+t[5]),this.first=e},m(c,T){A(c,e,T),I(e,i),I(i,a),I(a,s),I(i,d),I(i,o),I(e,k),L=!0,g||(h=[N(i,"click",p),N(i,"click",t[43]),N(i,"keypress",t[44]),N(i,"keydown",t[45]),N(i,"keyup",t[46])],g=!0)},p(c,T){t=c,(!L||T[0]&65536)&&r!==(r=t[67]+"")&&dt(s,r),(!L||T[0]&32&&m!==(m="chip "+t[5]))&&y(i,"class",m)},r(){_=e.getBoundingClientRect()},f(){Ae(e),E()},a(){E(),E=Be(e,_,Re,{duration:t[3]})},i(c){L||(c&&ct(()=>{L&&(f&&f.end(1),u=wt(i,nt,{transition:t[12],params:t[13],enabled:t[7]}),u.start())}),L=!0)},o(c){u&&u.invalidate(),c&&(f=xt(i,nt,{transition:t[14],params:t[15],enabled:t[7]})),L=!1},d(c){c&&O(e),c&&f&&f.end(),g=!1,Z(h)}}}function We(n){let t,e,i,a,r,s,d,o,v,m,u,f,k,_,E,L,g=Y(n[0]),h=[];for(let c=0;c<g.length;c+=1)h[c]=Ft(Wt(n,g,c));let p=n[16].length&&jt(n);return{c(){t=M("div"),e=M("div"),i=M("select");for(let c=0;c<h.length;c+=1)h[c].c();a=q(),r=M("div"),s=M("form"),d=M("input"),u=q(),p&&p.c(),this.h()},l(c){t=D(c,"DIV",{class:!0});var T=V(t);e=D(T,"DIV",{class:!0});var C=V(e);i=D(C,"SELECT",{name:!0,"aria-label":!0,tabindex:!0});var b=V(i);for(let U=0;U<h.length;U+=1)h[U].l(b);b.forEach(O),C.forEach(O),a=B(T),r=D(T,"DIV",{class:!0});var P=V(r);s=D(P,"FORM",{});var S=V(s);d=D(S,"INPUT",{type:!0,placeholder:!0,class:!0}),S.forEach(O),u=B(P),p&&p.l(P),P.forEach(O),T.forEach(O),this.h()},h(){y(i,"name",n[2]),i.multiple=!0,i.required=n[4],y(i,"aria-label",n[6]),y(i,"tabindex","-1"),n[0]===void 0&&ct(()=>n[51].call(i)),y(e,"class","h-0 overflow-hidden"),y(d,"type","text"),y(d,"placeholder",o=n[25].placeholder??"Enter values..."),y(d,"class",v="input-chip-field "+n[18]),d.disabled=m=n[25].disabled,y(r,"class",f="input-chip-wrapper "+n[20]),y(t,"class",k="input-chip "+n[21]),Nt(t,"opacity-50",n[25].disabled)},m(c,T){A(c,t,T),I(t,e),I(e,i);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(i,null);n[50](i),St(i,n[0]),I(t,a),I(t,r),I(r,s),I(s,d),R(d,n[1]),I(r,u),p&&p.m(r,null),_=!0,E||(L=[N(i,"change",n[51]),N(d,"input",n[52]),N(d,"input",n[22]),N(d,"input",n[47]),N(d,"focus",n[48]),N(d,"blur",n[49]),N(s,"submit",n[23])],E=!0)},p(c,T){if(T[0]&1){g=Y(c[0]);let C;for(C=0;C<g.length;C+=1){const b=Wt(c,g,C);h[C]?h[C].p(b,T):(h[C]=Ft(b),h[C].c(),h[C].m(i,null))}for(;C<h.length;C+=1)h[C].d(1);h.length=g.length}(!_||T[0]&4)&&y(i,"name",c[2]),(!_||T[0]&16)&&(i.required=c[4]),(!_||T[0]&64)&&y(i,"aria-label",c[6]),T[0]&1&&St(i,c[0]),(!_||T[0]&33554432&&o!==(o=c[25].placeholder??"Enter values..."))&&y(d,"placeholder",o),(!_||T[0]&262144&&v!==(v="input-chip-field "+c[18]))&&y(d,"class",v),(!_||T[0]&33554432&&m!==(m=c[25].disabled))&&(d.disabled=m),T[0]&2&&d.value!==c[1]&&R(d,c[1]),c[16].length?p?(p.p(c,T),T[0]&65536&&H(p,1)):(p=jt(c),p.c(),H(p,1),p.m(r,null)):p&&(lt(),F(p,1,1,()=>{p=null}),at()),(!_||T[0]&1048576&&f!==(f="input-chip-wrapper "+c[20]))&&y(r,"class",f),(!_||T[0]&2097152&&k!==(k="input-chip "+c[21]))&&y(t,"class",k),(!_||T[0]&35651584)&&Nt(t,"opacity-50",c[25].disabled)},i(c){_||(H(p),_=!0)},o(c){F(p),_=!1},d(c){c&&O(t),Xt(h,c),n[50](null),p&&p.d(),E=!1,Z(L)}}}const Fe="textarea cursor-pointer",je="space-y-4",ze="flex flex-wrap gap-2",Ke="unstyled bg-transparent border-0 !ring-0 p-0 w-full";function Ge(n,t,e){let i,a,r,s,d;const o=["input","name","value","whitelist","max","minlength","maxlength","allowUpperCase","allowDuplicates","validation","duration","required","chips","invalid","padding","rounded","regionChipWrapper","regionChipList","regionInput","label","transitions","listTransitionIn","listTransitionInParams","listTransitionOut","listTransitionOutParams","chipTransitionIn","chipTransitionInParams","chipTransitionOut","chipTransitionOutParams","addChip","removeChip"];let v=Ut(t,o),m;Yt(n,Se,l=>e(54,m=l));const u=Zt();let{input:f=""}=t,{name:k}=t,{value:_=[]}=t,{whitelist:E=[]}=t,{max:L=-1}=t,{minlength:g=-1}=t,{maxlength:h=-1}=t,{allowUpperCase:p=!1}=t,{allowDuplicates:c=!1}=t,{validation:T=()=>!0}=t,{duration:C=150}=t,{required:b=!1}=t,{chips:P="variant-filled"}=t,{invalid:S="input-error"}=t,{padding:U="p-2"}=t,{rounded:X="rounded-container-token"}=t,{regionChipWrapper:rt=""}=t,{regionChipList:st=""}=t,{regionInput:ot=""}=t,{label:pt="Chips select"}=t,{transitions:gt=!m}=t,{listTransitionIn:vt=At}=t,{listTransitionInParams:bt={duration:150,opacity:0,y:-20}}=t,{listTransitionOut:yt=At}=t,{listTransitionOutParams:Ct={duration:150,opacity:0,y:-20}}=t,{chipTransitionIn:Tt=Ht}=t,{chipTransitionInParams:kt={duration:150,opacity:0}}=t,{chipTransitionOut:It=Ht}=t,{chipTransitionOutParams:Et={duration:150,opacity:0}}=t,z=!0,j=(_==null?void 0:_.map(l=>({val:l,id:Math.random()})))||[];function Ot(){e(0,_=[])}let w;Ee(()=>{if(!w.form)return;const l=w.form;return l.addEventListener("reset",Ot),()=>{l.removeEventListener("reset",Ot)}});function ie(){e(41,z=!0)}function le(l){return T===void 0||T(l)}function ae(){return L===-1||_.length<L}function re(l){return(g===-1||l.length>=g)&&(h===-1||l.length<=h)}function se(l){return E.length===0||E.includes(l)}function oe(l){return c||!_.includes(l)}function Pt(l=""){return!l&&!f?!1:(l=l!==""?l.trim():f.trim(),le(l)&&ae()&&re(l)&&se(l)&&oe(l))}function Mt(l){l=p?l:l.toLowerCase(),_.push(l),e(0,_),j.push({val:l,id:Math.random()}),e(16,j),e(0,_)}function Dt(l){let W=_.indexOf(l);_.splice(W,1),e(0,_),j.splice(W,1),e(16,j),e(0,_)}function ue(l){if(l.preventDefault(),e(41,z=Pt()),z===!1){u("invalid",{event:l,input:f});return}Mt(f),u("add",{event:l,chipIndex:_.length-1,chipValue:f}),e(1,f="")}function Lt(l,W,K){v.disabled||(Dt(K),u("remove",{event:l,chipIndex:W,chipValue:K}))}function ce(l){if(e(41,z=Pt(l)),z===!1){u("invalidManually",{input:l});return}Mt(l),u("addManually",{chipIndex:_.length-1,chipValue:l})}function fe(l){v.disabled||(Dt(l),u("removeManually",{chipValue:l}))}function he(l){G.call(this,n,l)}function de(l){G.call(this,n,l)}function _e(l){G.call(this,n,l)}function me(l){G.call(this,n,l)}function pe(l){G.call(this,n,l)}function ge(l){G.call(this,n,l)}function ve(l){G.call(this,n,l)}function be(l){$[l?"unshift":"push"](()=>{w=l,e(17,w)})}function ye(){_=Oe(this),e(0,_)}function Ce(){f=this.value,e(1,f)}const Te=(l,W,K)=>Lt(K,l,W);return n.$$set=l=>{e(65,t=Vt(Vt({},t),qt(l))),e(25,v=Ut(t,o)),"input"in l&&e(1,f=l.input),"name"in l&&e(2,k=l.name),"value"in l&&e(0,_=l.value),"whitelist"in l&&e(26,E=l.whitelist),"max"in l&&e(27,L=l.max),"minlength"in l&&e(28,g=l.minlength),"maxlength"in l&&e(29,h=l.maxlength),"allowUpperCase"in l&&e(30,p=l.allowUpperCase),"allowDuplicates"in l&&e(31,c=l.allowDuplicates),"validation"in l&&e(32,T=l.validation),"duration"in l&&e(3,C=l.duration),"required"in l&&e(4,b=l.required),"chips"in l&&e(5,P=l.chips),"invalid"in l&&e(33,S=l.invalid),"padding"in l&&e(34,U=l.padding),"rounded"in l&&e(35,X=l.rounded),"regionChipWrapper"in l&&e(36,rt=l.regionChipWrapper),"regionChipList"in l&&e(37,st=l.regionChipList),"regionInput"in l&&e(38,ot=l.regionInput),"label"in l&&e(6,pt=l.label),"transitions"in l&&e(7,gt=l.transitions),"listTransitionIn"in l&&e(8,vt=l.listTransitionIn),"listTransitionInParams"in l&&e(9,bt=l.listTransitionInParams),"listTransitionOut"in l&&e(10,yt=l.listTransitionOut),"listTransitionOutParams"in l&&e(11,Ct=l.listTransitionOutParams),"chipTransitionIn"in l&&e(12,Tt=l.chipTransitionIn),"chipTransitionInParams"in l&&e(13,kt=l.chipTransitionInParams),"chipTransitionOut"in l&&e(14,It=l.chipTransitionOut),"chipTransitionOutParams"in l&&e(15,Et=l.chipTransitionOutParams)},n.$$.update=()=>{n.$$.dirty[1]&1028&&e(42,i=z===!1?S:""),e(21,a=`${Fe} ${U} ${X} ${t.class??""} ${i}`),n.$$.dirty[1]&32&&e(20,r=`${je} ${rt}`),n.$$.dirty[1]&64&&e(19,s=`${ze} ${st}`),n.$$.dirty[1]&128&&e(18,d=`${Ke} ${ot}`),n.$$.dirty[0]&65537&&e(16,j=(_==null?void 0:_.map((l,W)=>{var K;return((K=j[W])==null?void 0:K.val)===l?j[W]:{id:Math.random(),val:l}}))||[])},t=qt(t),[_,f,k,C,b,P,pt,gt,vt,bt,yt,Ct,Tt,kt,It,Et,j,w,d,s,r,a,ie,ue,Lt,v,E,L,g,h,p,c,T,S,U,X,rt,st,ot,ce,fe,z,i,he,de,_e,me,pe,ge,ve,be,ye,Ce,Te]}class Je extends _t{constructor(t){super(),mt(this,t,Ge,We,it,{input:1,name:2,value:0,whitelist:26,max:27,minlength:28,maxlength:29,allowUpperCase:30,allowDuplicates:31,validation:32,duration:3,required:4,chips:5,invalid:33,padding:34,rounded:35,regionChipWrapper:36,regionChipList:37,regionInput:38,label:6,transitions:7,listTransitionIn:8,listTransitionInParams:9,listTransitionOut:10,listTransitionOutParams:11,chipTransitionIn:12,chipTransitionInParams:13,chipTransitionOut:14,chipTransitionOutParams:15,addChip:39,removeChip:40},null,[-1,-1,-1])}get addChip(){return this.$$.ctx[39]}get removeChip(){return this.$$.ctx[40]}}function Qe(n){let t;return{c(){t=ft(n[0])},l(e){t=ht(e,n[0])},m(e,i){A(e,t,i)},p(e,i){i&1&&dt(t,e[0])},d(e){e&&O(t)}}}function Xe(n){let t,e,i;return{c(){t=M("input"),this.h()},l(a){t=D(a,"INPUT",{class:!0,type:!0}),this.h()},h(){y(t,"class","input"),y(t,"type","text")},m(a,r){A(a,t,r),R(t,n[0]),e||(i=[N(t,"input",n[10]),N(t,"keydown",n[7])],e=!0)},p(a,r){r&1&&t.value!==a[0]&&R(t,a[0])},d(a){a&&O(t),e=!1,Z(i)}}}function Kt(n){let t,e,i='<span class="material-symbols-outlined">favorite</span>',a,r,s,d;return{c(){t=M("div"),e=M("div"),e.innerHTML=i,a=q(),r=M("input"),this.h()},l(o){t=D(o,"DIV",{class:!0,title:!0});var v=V(t);e=D(v,"DIV",{class:!0,"data-svelte-h":!0}),Q(e)!=="svelte-y9ncw"&&(e.innerHTML=i),a=B(v),r=D(v,"INPUT",{class:!0,type:!0,placeholder:!0}),v.forEach(O),this.h()},h(){y(e,"class","input-group-shim p-0"),y(r,"class","input-group-shim"),y(r,"type","text"),y(r,"placeholder","0"),y(t,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] w-40 border"),y(t,"title","Use + or - to add or subtract numbers, and then hit enter. Example: 20+5")},m(o,v){A(o,t,v),I(t,e),I(t,a),I(t,r),R(r,n[2]),s||(d=[N(r,"keydown",n[8]),N(r,"input",n[12])],s=!0)},p(o,v){v&4&&r.value!==o[2]&&R(r,o[2])},d(o){o&&O(t),s=!1,Z(d)}}}function Ye(n){let t,e,i,a,r,s,d,o,v='<span class="material-symbols-outlined">skull</span>',m,u,f,k,_,E,L;function g(b,P){return b[5]?Xe:Qe}let h=g(n),p=h(n),c=n[4]=="monster"&&Kt(n);function T(b){n[14](b)}let C={class:"border",rounded:"rounded",chips:"variant-soft-secondary",name:"chips",placeholder:"Add conditions..."};return n[3]!==void 0&&(C.value=n[3]),f=new Je({props:C}),$.push(()=>et(f,"value",T)),{c(){t=M("div"),e=M("header"),i=M("input"),a=q(),r=M("a"),p.c(),s=q(),c&&c.c(),d=q(),o=M("button"),o.innerHTML=v,m=q(),u=M("section"),$t(f.$$.fragment),this.h()},l(b){t=D(b,"DIV",{class:!0});var P=V(t);e=D(P,"HEADER",{class:!0});var S=V(e);i=D(S,"INPUT",{class:!0,title:!0,type:!0,placeholder:!0}),a=B(S),r=D(S,"A",{title:!0});var U=V(r);p.l(U),U.forEach(O),s=B(S),c&&c.l(S),d=B(S),o=D(S,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Q(o)!=="svelte-1e6a25n"&&(o.innerHTML=v),S.forEach(O),m=B(P),u=D(P,"SECTION",{class:!0});var X=V(u);te(f.$$.fragment,X),X.forEach(O),P.forEach(O),this.h()},h(){y(i,"class","input w-12 rounded variant-form-material"),y(i,"title","Initiative"),y(i,"type","tel"),y(i,"placeholder","9"),y(r,"title","Click to rename character"),y(o,"class","btn-icon rounded variant-soft"),y(o,"title","Remove character"),y(e,"class","card-header h4 justify-between flex"),y(u,"class","p-4 rounded"),y(t,"class","card m-2 w-full max-w-3xl rounded")},m(b,P){A(b,t,P),I(t,e),I(e,i),R(i,n[1]),I(e,a),I(e,r),p.m(r,null),I(e,s),c&&c.m(e,null),I(e,d),I(e,o),I(t,m),I(t,u),ee(f,u,null),_=!0,E||(L=[N(i,"input",n[9]),N(r,"click",n[11]),N(o,"click",n[13])],E=!0)},p(b,[P]){P&2&&R(i,b[1]),h===(h=g(b))&&p?p.p(b,P):(p.d(1),p=h(b),p&&(p.c(),p.m(r,null))),b[4]=="monster"?c?c.p(b,P):(c=Kt(b),c.c(),c.m(e,d)):c&&(c.d(1),c=null);const S={};!k&&P&8&&(k=!0,S.value=b[3],tt(()=>k=!1)),f.$set(S)},i(b){_||(H(f.$$.fragment,b),_=!0)},o(b){F(f.$$.fragment,b),_=!1},d(b){b&&O(t),p.d(),c&&c.d(),ne(f),E=!1,Z(L)}}}function Ze(n,t,e){const i=Zt();let{name:a="Character Name"}=t,{initiative:r=0}=t,{health:s="0"}=t,{char_type:d="player"}=t,{conditions:o=[]}=t,v=!1;function m(h){h.code=="Enter"&&e(5,v=!1)}function u(h){if(h.code=="Enter"){let p=0;if(s.includes("+"))s.split("+").forEach(c=>{p+=parseInt(c)});else if(s.includes("-"))s.split("-").forEach(c=>{p==0?p=parseInt(c):p-=parseInt(c)});else return;e(2,s=p.toString())}}function f(){r=this.value,e(1,r)}function k(){a=this.value,e(0,a)}const _=()=>e(5,v=!0);function E(){s=this.value,e(2,s)}const L=()=>i("delete");function g(h){o=h,e(3,o)}return n.$$set=h=>{"name"in h&&e(0,a=h.name),"initiative"in h&&e(1,r=h.initiative),"health"in h&&e(2,s=h.health),"char_type"in h&&e(4,d=h.char_type),"conditions"in h&&e(3,o=h.conditions)},[a,r,s,o,d,v,i,m,u,f,k,_,E,L,g]}class we extends _t{constructor(t){super(),mt(this,t,Ze,Ye,it,{name:0,initiative:1,health:2,char_type:4,conditions:3})}}function Gt(n,t,e){const i=n.slice();return i[14]=t[e],i[15]=t,i[16]=e,i}function Jt(n){let t,e,i,a,r;function s(u){n[7](u,n[14])}function d(u){n[8](u,n[14])}function o(u){n[9](u,n[14])}function v(){return n[10](n[14])}let m={};return n[14][0]!==void 0&&(m.name=n[14][0]),n[14][2]!==void 0&&(m.char_type=n[14][2]),n[14][1]!==void 0&&(m.initiative=n[14][1]),t=new we({props:m}),$.push(()=>et(t,"name",s)),$.push(()=>et(t,"char_type",d)),$.push(()=>et(t,"initiative",o)),t.$on("delete",v),{c(){$t(t.$$.fragment)},l(u){te(t.$$.fragment,u)},m(u,f){ee(t,u,f),r=!0},p(u,f){n=u;const k={};!e&&f&2&&(e=!0,k.name=n[14][0],tt(()=>e=!1)),!i&&f&2&&(i=!0,k.char_type=n[14][2],tt(()=>i=!1)),!a&&f&2&&(a=!0,k.initiative=n[14][1],tt(()=>a=!1)),t.$set(k)},i(u){r||(H(t.$$.fragment,u),r=!0)},o(u){F(t.$$.fragment,u),r=!1},d(u){ne(t,u)}}}function Qt(n){let t,e,i=Y(n[1]),a=[];for(let s=0;s<i.length;s+=1)a[s]=Jt(Gt(n,i,s));const r=s=>F(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();t=Bt()},l(s){for(let d=0;d<a.length;d+=1)a[d].l(s);t=Bt()},m(s,d){for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(s,d);A(s,t,d),e=!0},p(s,d){if(d&34){i=Y(s[1]);let o;for(o=0;o<i.length;o+=1){const v=Gt(s,i,o);a[o]?(a[o].p(v,d),H(a[o],1)):(a[o]=Jt(v),a[o].c(),H(a[o],1),a[o].m(t.parentNode,t))}for(lt(),o=i.length;o<a.length;o+=1)r(o);at()}},i(s){if(!e){for(let d=0;d<i.length;d+=1)H(a[d]);e=!0}},o(s){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)F(a[d]);e=!1},d(s){s&&O(t),Xt(a,s)}}}function xe(n){let t,e=n[0],i,a,r,s,d='<span class="material-symbols-outlined">shuffle</span>',o,v,m="Add Character",u,f,k="Add Monsters",_,E,L="Remove All Monsters",g,h,p,c,T,C=Qt(n);return{c(){t=M("div"),C.c(),i=q(),a=M("div"),r=M("div"),s=M("button"),s.innerHTML=d,o=q(),v=M("button"),v.textContent=m,u=q(),f=M("button"),f.textContent=k,_=q(),E=M("button"),E.textContent=L,g=q(),h=M("div"),this.h()},l(b){t=D(b,"DIV",{class:!0});var P=V(t);C.l(P),P.forEach(O),i=B(b),a=D(b,"DIV",{class:!0});var S=V(a);r=D(S,"DIV",{class:!0});var U=V(r);s=D(U,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),Q(s)!=="svelte-b005uv"&&(s.innerHTML=d),o=B(U),v=D(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(v)!=="svelte-1n79vxe"&&(v.textContent=m),u=B(U),f=D(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(f)!=="svelte-p8nyd8"&&(f.textContent=k),_=B(U),E=D(U,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(E)!=="svelte-zgy1t"&&(E.textContent=L),g=B(U),h=D(U,"DIV",{class:!0}),V(h).forEach(O),U.forEach(O),S.forEach(O),this.h()},h(){y(t,"class","flex flex-col items-center p-4"),y(s,"class","btn btn-icon variant-filled rounded"),y(s,"title","Sort by initiative"),y(v,"class","btn variant-ghost"),y(f,"class","btn variant-ghost"),y(E,"class","btn variant-ghost"),y(h,"class","w-4"),y(r,"class","mx-4 px-4 flex flex-row justify-between w-full max-w-3xl"),y(a,"class","flex flex-col items-center")},m(b,P){A(b,t,P),C.m(t,null),A(b,i,P),A(b,a,P),I(a,r),I(r,s),I(r,o),I(r,v),I(r,u),I(r,f),I(r,_),I(r,E),I(r,g),I(r,h),p=!0,c||(T=[N(s,"click",n[6]),N(v,"click",n[2]),N(f,"click",n[4]),N(E,"click",n[3])],c=!0)},p(b,[P]){P&1&&it(e,e=b[0])?(lt(),F(C,1,1,x),at(),C=Qt(b),C.c(),H(C,1),C.m(t,null)):C.p(b,P)},i(b){p||(H(C),p=!0)},o(b){F(C),p=!1},d(b){b&&(O(t),O(i),O(a)),C.d(b),c=!1,Z(T)}}}function $e(n,t,e){let i;Yt(n,J,g=>e(1,i=g));const a=qe();let r=!0;const s={type:"prompt",title:"Add Player",body:"Write the player character name below",value:"",valueAttr:{type:"text",minlength:3,maxlength:100,required:!0},response:g=>g?ut(J,i=[...i,[g,0,"player"]],i):null},d={type:"component",component:"modalMonster"};function o(){a.trigger(s)}function v(){let g=[];i.forEach(h=>{h[2]!=="monster"&&(g=[...g,h])}),ut(J,i=g,i)}function m(){a.trigger(d)}function u(g){let h=[];i.forEach(p=>{p[0]!==g&&(h=[...h,p])}),ut(J,i=h,i)}function f(){i.sort((g,h)=>h[1]-g[1]),e(0,r=!r)}function k(g,h){n.$$.not_equal(h[0],g)&&(h[0]=g,J.set(i))}function _(g,h){n.$$.not_equal(h[2],g)&&(h[2]=g,J.set(i))}function E(g,h){n.$$.not_equal(h[1],g)&&(h[1]=g,J.set(i))}return[r,i,o,v,m,u,f,k,_,E,g=>u(g[0])]}class ln extends _t{constructor(t){super(),mt(this,t,$e,xe,it,{})}}export{ln as component};
